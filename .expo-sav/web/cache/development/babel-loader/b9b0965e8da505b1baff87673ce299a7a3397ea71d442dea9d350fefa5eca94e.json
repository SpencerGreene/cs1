{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { ERROR, LOG, INFO } from \"../logConfig\";\nimport { AuthContext } from \"../components/AuthProvider\";\nimport BubbleApi from \"../api/BubbleApi\";\nimport BlueAllianceApi from \"../api/BlueAllianceApi\";\nimport { ACTIONS, LOCALKEYS, PHASES, CLOCKSTATES } from \"../config\";\nimport Header from \"../components/Header\";\nimport ScoutPageSelect from \"./ScoutPageSelect\";\nimport ScoutPageGame from \"./ScoutPageGame\";\nimport ButtonsFwdBack from \"../components/ButtonsFwdBack\";\nimport { savedImageToBlob } from \"../helpers/imageHelpers\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ScoutPage() {\n  var _useContext = useContext(AuthContext),\n    userInfo = _useContext.userInfo,\n    appVariables = _useContext.appVariables,\n    setAppVariables = _useContext.setAppVariables,\n    eventInfo = _useContext.eventInfo,\n    setEventInfo = _useContext.setEventInfo,\n    colorDict = _useContext.colorDict,\n    setColorDict = _useContext.setColorDict,\n    lastChanged = _useContext.lastChanged,\n    setLastChanged = _useContext.setLastChanged;\n  var _useState = useState({\n      matchType: null,\n      matchNumber: null,\n      scoutTeamNumT: null,\n      allianceColor: null,\n      scoutSelectionValid: null,\n      phase: PHASES.select,\n      phaseOverride: false,\n      startTime: null,\n      clockState: CLOCKSTATES.hidden\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    gameState = _useState2[0],\n    setGameState = _useState2[1];\n  var maxGameTime = function maxGameTime() {\n    var _appVariables$game;\n    return 150 + (appVariables == null ? void 0 : (_appVariables$game = appVariables.game) == null ? void 0 : _appVariables$game.autoTeleSeconds);\n  };\n  var doAction = function doAction(action) {\n    INFO('action=', action);\n    switch (action) {\n      case ACTIONS.clearConditions:\n        break;\n      case ACTIONS.clearMatchTeam:\n        return {\n          scoutTeamNumT: null,\n          allianceColor: null\n        };\n      case ACTIONS.deleteCounts:\n        break;\n      case ACTIONS.deleteScout:\n        break;\n      case ACTIONS.incrementMatchNum:\n        var matchNumber = gameState.matchNumber + 1;\n        AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(_objectSpread(_objectSpread({}, appVariables), {}, {\n          defaultMatchNum: matchNumber\n        })));\n        BubbleApi.apiSetDefaultMatchNumber(matchNumber);\n        return {\n          matchNumber: matchNumber\n        };\n      case ACTIONS.makeScout:\n        break;\n      case ACTIONS.reloadMaxed:\n        break;\n      case ACTIONS.startClock:\n        return {\n          startTime: new Date(),\n          clockState: CLOCKSTATES.running\n        };\n      case ACTIONS.hideClock:\n        return {\n          clockState: CLOCKSTATES.hidden\n        };\n      case ACTIONS.resetClock:\n        return {\n          startTime: null,\n          clockState: CLOCKSTATES.stopped\n        };\n      case ACTIONS.submit:\n        break;\n      case ACTIONS.clearPhaseOverride:\n        return {\n          phaseOverride: false\n        };\n      case ACTIONS.setPhaseOverride:\n        return {\n          phaseOverride: true\n        };\n      default:\n        ERROR('unknown action', action);\n    }\n    return {};\n  };\n  var setPhase = function setPhase(newPhase, actions) {\n    var phaseUpdate = {\n      phase: newPhase\n    };\n    var actionUpdates = actions ? actions.map(function (action) {\n      return doAction(action);\n    }) : [];\n    var updates = Object.assign.apply(Object, [phaseUpdate].concat(_toConsumableArray(actionUpdates)));\n    INFO({\n      actions: actions,\n      actionUpdates: actionUpdates,\n      updates: updates\n    });\n    setGameState(_objectSpread(_objectSpread({}, gameState), updates));\n  };\n  var overridePhase = function overridePhase(newPhase, actions) {\n    var allActions = [ACTIONS.setPhaseOverride].concat(_toConsumableArray(actions));\n    setPhase(newPhase, allActions);\n  };\n  useEffect(function () {\n    var populateLastChanged = function () {\n      var _ref = _asyncToGenerator(function* () {\n        var apiLastChanged = yield BubbleApi.apiGetLastChanged();\n        setLastChanged(apiLastChanged);\n        LOG('last changed loaded from api', apiLastChanged);\n      });\n      return function populateLastChanged() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    populateLastChanged();\n  }, []);\n  var hydrateBlobDict = function () {\n    var _ref2 = _asyncToGenerator(function* (blobDict) {\n      if (!blobDict) return;\n      var keys = Object.keys(blobDict);\n      var resultsArray = yield Promise.all(keys.map(function () {\n        var _ref3 = _asyncToGenerator(function* (key) {\n          var saveImage = blobDict[key].saveImage;\n          var blob = yield savedImageToBlob(saveImage);\n          return _defineProperty({}, key, {\n            saveImage: saveImage,\n            blob: blob\n          });\n        });\n        return function (_x2) {\n          return _ref3.apply(this, arguments);\n        };\n      }()));\n      var result = Object.assign.apply(Object, [{}].concat(_toConsumableArray(resultsArray)));\n      return result;\n    });\n    return function hydrateBlobDict(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var setStartingMatch = function setStartingMatch(appVar) {\n      setGameState(_objectSpread(_objectSpread({}, gameState), {}, {\n        matchType: appVar.defaultMatchType,\n        matchNumber: appVar.defaultMatchNum\n      }));\n    };\n    var populateAppVariables = function () {\n      var _ref5 = _asyncToGenerator(function* () {\n        if (appVariables && userInfo && appVariables.teamNumT === userInfo.teamNumT) {\n          LOG('app Variables already in memory');\n          INFO({\n            appVariables: appVariables\n          });\n          setStartingMatch(appVariables);\n          return;\n        }\n        var storedAppVariables = yield AsyncStorage.getItem(LOCALKEYS.APPVAR);\n        if (storedAppVariables) {\n          var parsedAppVariables = JSON.parse(storedAppVariables);\n          parsedAppVariables.fetchedDate = new Date(parsedAppVariables.fetchedDate);\n          parsedAppVariables.blobDict = yield hydrateBlobDict(parsedAppVariables.blobDict);\n          setAppVariables(parsedAppVariables);\n          LOG('app variables found in cache');\n          INFO({\n            appVariables: parsedAppVariables\n          });\n          setStartingMatch(parsedAppVariables);\n        } else {\n          var apiAppVariables = yield BubbleApi.apiGetAppVariables();\n          yield setAppVariables(apiAppVariables);\n          yield AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(apiAppVariables));\n          LOG('app variables loaded from api');\n          INFO({\n            appVariables: apiAppVariables\n          });\n          setStartingMatch(apiAppVariables);\n        }\n      });\n      return function populateAppVariables() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    populateAppVariables();\n  }, []);\n  var loadEventInfoApi = function () {\n    var _ref6 = _asyncToGenerator(function* (eventKey) {\n      var apiEventInfo = yield BlueAllianceApi.fetchEventInfo(eventKey);\n      setEventInfo(apiEventInfo);\n      yield AsyncStorage.setItem(LOCALKEYS.EVENT, JSON.stringify(apiEventInfo));\n      LOG('eventInfo loaded from api');\n      INFO({\n        eventInfo: apiEventInfo\n      });\n    });\n    return function loadEventInfoApi(_x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var validEvent = function validEvent(event) {\n      return event && event.eventKey === appVariables.eventKey && event.matches && event.matches[1] && event.matches[1].alliances;\n    };\n    var populateEvent = function () {\n      var _ref7 = _asyncToGenerator(function* () {\n        if (!appVariables || !appVariables.eventKey) return;\n        if (validEvent(eventInfo)) {\n          LOG('eventInfo already in memory', eventInfo);\n          return;\n        }\n        var parsedEventInfo = JSON.parse(yield AsyncStorage.getItem(LOCALKEYS.EVENT));\n        if (validEvent(parsedEventInfo)) {\n          setEventInfo(parsedEventInfo);\n          LOG('eventInfo found in cache');\n          INFO({\n            eventInfo: parsedEventInfo\n          });\n          return;\n        }\n        yield loadEventInfoApi(appVariables.eventKey);\n      });\n      return function populateEvent() {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n    populateEvent();\n  }, [appVariables.eventKey]);\n  useEffect(function () {\n    var populateColorDict = function () {\n      var _ref8 = _asyncToGenerator(function* () {\n        if (!userInfo || !userInfo.teamNumT) return;\n        var storedColorDict = yield AsyncStorage.getItem(LOCALKEYS.COLORDICT);\n        if (storedColorDict) {\n          var parsedColorDict = JSON.parse(storedColorDict);\n          if (parsedColorDict.teamNumT === userInfo.teamNumT) {\n            setColorDict(parsedColorDict);\n            LOG('colordict found in cache');\n            INFO(parsedColorDict);\n            return;\n          }\n        }\n        var apiColorDict = yield BubbleApi.apiGetColorDict(userInfo.teamNumT);\n        setColorDict(apiColorDict);\n        yield AsyncStorage.setItem(LOCALKEYS.COLORDICT, JSON.stringify(apiColorDict));\n        LOG('color dict loaded from api');\n      });\n      return function populateColorDict() {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n    populateColorDict();\n  }, [userInfo.teamNumT]);\n  var onTimeout = function onTimeout() {\n    var phase = gameState.phase;\n    LOG('timeout', {\n      override: gameState.phaseOverride\n    });\n    if (!gameState.phaseOverride) setPhase(phase.forward, phase.forwardActions);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Header, {\n      gameState: gameState,\n      maxGameTime: maxGameTime(),\n      onTimeout: onTimeout\n    }), _jsx(View, {\n      style: styles.scoutContainer,\n      children: gameState.phase === PHASES.select ? _jsx(ScoutPageSelect, {\n        gameState: gameState,\n        setGameState: setGameState\n      }) : _jsx(ScoutPageGame, {\n        gameState: gameState,\n        setGameState: setGameState\n      })\n    }), _jsx(ButtonsFwdBack, {\n      gameState: gameState,\n      setPhase: overridePhase\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    flexDirection: 'column'\n  },\n  loginTitle: {\n    marginTop: 30,\n    marginBottom: 12\n  },\n  image: {\n    width: 192,\n    height: 51.5,\n    alignSelf: 'center',\n    marginBottom: 30,\n    marginTop: 100\n  },\n  scoutContainer: {\n    minWidth: \"100%\",\n    flex: 3,\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingTop: 30,\n    minHeight: 480,\n    justifyContent: 'flex-start',\n    flexDirection: 'column'\n  },\n  coneImage: {\n    width: 32,\n    height: 32,\n    borderWidth: 2\n  }\n});","map":{"version":3,"names":["AsyncStorage","React","useContext","useEffect","useState","ERROR","LOG","INFO","AuthContext","BubbleApi","BlueAllianceApi","ACTIONS","LOCALKEYS","PHASES","CLOCKSTATES","Header","ScoutPageSelect","ScoutPageGame","ButtonsFwdBack","savedImageToBlob","jsx","_jsx","jsxs","_jsxs","ScoutPage","_useContext","userInfo","appVariables","setAppVariables","eventInfo","setEventInfo","colorDict","setColorDict","lastChanged","setLastChanged","_useState","matchType","matchNumber","scoutTeamNumT","allianceColor","scoutSelectionValid","phase","select","phaseOverride","startTime","clockState","hidden","_useState2","_slicedToArray","gameState","setGameState","maxGameTime","_appVariables$game","game","autoTeleSeconds","doAction","action","clearConditions","clearMatchTeam","deleteCounts","deleteScout","incrementMatchNum","setItem","APPVAR","JSON","stringify","_objectSpread","defaultMatchNum","apiSetDefaultMatchNumber","makeScout","reloadMaxed","startClock","Date","running","hideClock","resetClock","stopped","submit","clearPhaseOverride","setPhaseOverride","setPhase","newPhase","actions","phaseUpdate","actionUpdates","map","updates","Object","assign","apply","concat","_toConsumableArray","overridePhase","allActions","populateLastChanged","_ref","_asyncToGenerator","apiLastChanged","apiGetLastChanged","arguments","hydrateBlobDict","_ref2","blobDict","keys","resultsArray","Promise","all","_ref3","key","saveImage","blob","_defineProperty","_x2","result","_x","setStartingMatch","appVar","defaultMatchType","populateAppVariables","_ref5","teamNumT","storedAppVariables","getItem","parsedAppVariables","parse","fetchedDate","apiAppVariables","apiGetAppVariables","loadEventInfoApi","_ref6","eventKey","apiEventInfo","fetchEventInfo","EVENT","_x3","validEvent","event","matches","alliances","populateEvent","_ref7","parsedEventInfo","populateColorDict","_ref8","storedColorDict","COLORDICT","parsedColorDict","apiColorDict","apiGetColorDict","onTimeout","override","forward","forwardActions","View","style","styles","container","children","scoutContainer","StyleSheet","create","flex","flexDirection","loginTitle","marginTop","marginBottom","image","width","height","alignSelf","minWidth","paddingLeft","paddingRight","paddingTop","minHeight","justifyContent","coneImage","borderWidth"],"sources":["/Users/sgreene/src/cs1/pages/ScoutPage.js"],"sourcesContent":["import { StyleSheet, View } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { useContext, useEffect, useState } from 'react';\n\nimport { ERROR, LOG, INFO } from '../logConfig';\nimport { AuthContext } from '../components/AuthProvider';\n\nimport BubbleApi from '../api/BubbleApi';\nimport BlueAllianceApi from '../api/BlueAllianceApi';\nimport { ACTIONS, LOCALKEYS, PHASES, CLOCKSTATES } from '../config';\n\nimport Header from '../components/Header';\nimport ScoutPageSelect from './ScoutPageSelect';\nimport ScoutPageGame from './ScoutPageGame';\nimport ButtonsFwdBack from '../components/ButtonsFwdBack';\nimport { savedImageToBlob } from '../helpers/imageHelpers';\n\nexport default function ScoutPage() {\n    const {\n        userInfo,\n        appVariables, setAppVariables,\n        eventInfo, setEventInfo,\n        colorDict, setColorDict,\n        lastChanged, setLastChanged,\n    } = useContext(AuthContext);\n\n    const [gameState, setGameState] = useState({\n        // selection screen\n        matchType: null,\n        matchNumber: null,\n        scoutTeamNumT: null,\n        allianceColor: null,\n        scoutSelectionValid: null,\n\n        // game running\n        phase: PHASES.select,\n        phaseOverride: false,\n        startTime: null,\n        clockState: CLOCKSTATES.hidden,\n    });\n\n    const maxGameTime = () => 150 + appVariables?.game?.autoTeleSeconds;\n\n    const doAction = action => {\n        INFO('action=', action);\n        switch (action) {\n            case ACTIONS.clearConditions:\n                break;\n            case ACTIONS.clearMatchTeam:\n                return { scoutTeamNumT: null, allianceColor: null };\n            case ACTIONS.deleteCounts:\n                break;\n            case ACTIONS.deleteScout:\n                break;\n            case ACTIONS.incrementMatchNum:\n                const matchNumber = gameState.matchNumber + 1;\n                AsyncStorage.setItem(\n                    LOCALKEYS.APPVAR,\n                    JSON.stringify({ ...appVariables, defaultMatchNum: matchNumber })\n                );\n                BubbleApi.apiSetDefaultMatchNumber(matchNumber);\n                return { matchNumber };\n            case ACTIONS.makeScout:\n                break;\n            case ACTIONS.reloadMaxed:\n                break;\n            case ACTIONS.startClock:\n                return { startTime: new Date(), clockState: CLOCKSTATES.running };\n            case ACTIONS.hideClock:\n                return { clockState: CLOCKSTATES.hidden };\n            case ACTIONS.resetClock:\n                // CountdownTimer resets automatically when state is stopped\n                return { startTime: null, clockState: CLOCKSTATES.stopped };\n            case ACTIONS.submit:\n                break;\n            case ACTIONS.clearPhaseOverride:\n                return { phaseOverride: false };\n            case ACTIONS.setPhaseOverride:\n                return { phaseOverride: true };\n            default:\n                ERROR('unknown action', action);\n        }\n        return {};\n    }\n\n    const setPhase = (newPhase, actions) => {\n        const phaseUpdate = { phase: newPhase };\n        const actionUpdates = actions ? actions.map(action => doAction(action)) : [];\n        const updates = Object.assign(phaseUpdate, ...actionUpdates);\n        INFO({ actions, actionUpdates, updates });\n        setGameState({ ...gameState, ...updates });\n    };\n\n    const overridePhase = (newPhase, actions) => {\n        const allActions = [ACTIONS.setPhaseOverride, ...actions];\n        setPhase(newPhase, allActions);\n    }\n\n    // get lastChanged from api - TODO refresh other info if it's stale\n    useEffect(() => {\n        const populateLastChanged = async () => {\n            const apiLastChanged = await BubbleApi.apiGetLastChanged();\n            setLastChanged(apiLastChanged);\n\n            LOG('last changed loaded from api', apiLastChanged);\n        };\n\n        populateLastChanged();\n    }, []); // Empty dependency array to run only on mount\n\n    const hydrateBlobDict = async blobDict => {\n        if (!blobDict) return;\n        const keys = Object.keys(blobDict);\n        const resultsArray = await Promise.all(keys.map(async key => {\n            const { saveImage } = blobDict[key];\n            const blob = await savedImageToBlob(saveImage);\n\n            return { [key]: { saveImage, blob } };\n        }));\n\n        const result = Object.assign({}, ...resultsArray);\n        return result;\n    };\n\n    // get appVariables from cache or api\n    useEffect(() => {\n        const setStartingMatch = appVar => {\n            setGameState({ ...gameState, matchType: appVar.defaultMatchType, matchNumber: appVar.defaultMatchNum });\n        };\n\n        const populateAppVariables = async () => {\n            if (appVariables && userInfo && appVariables.teamNumT === userInfo.teamNumT) {\n                LOG('app Variables already in memory');\n                INFO({appVariables});\n                setStartingMatch(appVariables);\n                return;\n            }\n            // Check if appVariables is in AsyncStorage\n            const storedAppVariables = await AsyncStorage.getItem(LOCALKEYS.APPVAR);\n\n            if (storedAppVariables) {\n                // If it exists, set it in the state\n                const parsedAppVariables = JSON.parse(storedAppVariables);\n                parsedAppVariables.fetchedDate = new Date(parsedAppVariables.fetchedDate);\n                parsedAppVariables.blobDict = await hydrateBlobDict(parsedAppVariables.blobDict);\n\n                setAppVariables(parsedAppVariables);\n\n                LOG('app variables found in cache');\n                INFO({appVariables: parsedAppVariables});\n                setStartingMatch(parsedAppVariables);\n            } else {\n                // If not, fetch it from the API\n                const apiAppVariables = await BubbleApi.apiGetAppVariables();\n                await setAppVariables(apiAppVariables);\n\n                // Store it in AsyncStorage for future use\n                await AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(apiAppVariables));\n                LOG('app variables loaded from api');\n                INFO({appVariables: apiAppVariables});\n                setStartingMatch(apiAppVariables);\n            }\n        };\n\n        populateAppVariables();\n    }, []); // Empty dependency array to run only on mount\n\n    const loadEventInfoApi = async eventKey => {\n        const apiEventInfo = await BlueAllianceApi.fetchEventInfo(eventKey);\n        setEventInfo(apiEventInfo);\n\n        // Store it in AsyncStorage for future use\n        await AsyncStorage.setItem(LOCALKEYS.EVENT, JSON.stringify(apiEventInfo));\n        LOG('eventInfo loaded from api');\n        INFO({eventInfo: apiEventInfo});\n    };\n\n    // get eventInfo from cache or API - depends on eventKey\n    useEffect(() => {\n        const validEvent = event => (\n            event\n            && event.eventKey === appVariables.eventKey\n            && event.matches\n            && event.matches[1]\n            && event.matches[1].alliances\n        );\n\n        const populateEvent = async () => {\n            if (!appVariables || !appVariables.eventKey) return;\n\n            // 1 - already in React state\n            if (validEvent(eventInfo)) {\n                LOG('eventInfo already in memory', eventInfo);\n                return;\n            }\n\n            // 2 - already in cache\n            const parsedEventInfo = JSON.parse(await AsyncStorage.getItem(LOCALKEYS.EVENT));\n            if (validEvent(parsedEventInfo)) {\n                setEventInfo(parsedEventInfo);\n                LOG('eventInfo found in cache');\n                INFO({eventInfo: parsedEventInfo});\n                return;\n            }\n\n            // not found in cache\n            await loadEventInfoApi(appVariables.eventKey);\n        };\n\n        populateEvent();\n    }, [appVariables.eventKey]); // Trigger only when event changes\n\n    // get colorDict from cache or API - depends on userInfo.teamNumT\n    useEffect(() => {\n        const populateColorDict = async () => {\n            if (!userInfo || !userInfo.teamNumT) return;\n\n            const storedColorDict = await AsyncStorage.getItem(LOCALKEYS.COLORDICT);\n            if (storedColorDict) {\n                // If it exists, set it in the state\n                const parsedColorDict = JSON.parse(storedColorDict);\n\n                if (parsedColorDict.teamNumT === userInfo.teamNumT) {\n                    setColorDict(parsedColorDict);\n                    LOG('colordict found in cache');\n                    INFO(parsedColorDict);\n                    return;\n                }\n            }\n\n            // If not, fetch it from the API\n            const apiColorDict = await BubbleApi.apiGetColorDict(userInfo.teamNumT);\n            setColorDict(apiColorDict);\n\n            // Store it in AsyncStorage for future use\n            await AsyncStorage.setItem(LOCALKEYS.COLORDICT, JSON.stringify(apiColorDict));\n            LOG('color dict loaded from api');\n\n        };\n\n        populateColorDict();\n    }, [userInfo.teamNumT]); // Trigger only when appVariables changes\n\n    const onTimeout = () => {\n        const { phase } = gameState;\n        LOG('timeout', { override: gameState.phaseOverride });\n        if (!gameState.phaseOverride) setPhase(phase.forward, phase.forwardActions);\n    }\n\n    return (\n        <View style={styles.container}>\n            <Header\n                gameState={gameState}\n                maxGameTime={maxGameTime()}\n                onTimeout={onTimeout}\n            />\n            <View style={styles.scoutContainer}>\n                {gameState.phase === PHASES.select\n                    ? <ScoutPageSelect gameState={gameState} setGameState={setGameState} />\n                    : <ScoutPageGame gameState={gameState} setGameState={setGameState} />\n                }\n            </View>\n            <ButtonsFwdBack gameState={gameState} setPhase={overridePhase} />\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        flexDirection: 'column',\n    },\n    loginTitle: {\n        marginTop: 30,\n        marginBottom: 12,\n    },\n    image: {\n        width: 192,\n        height: 51.5,\n        alignSelf: 'center',\n        marginBottom: 30,\n        marginTop: 100,\n    },\n    scoutContainer: {\n        minWidth: \"100%\",\n        flex: 3,\n        paddingLeft: 10,\n        paddingRight: 10,\n        paddingTop: 30,\n        minHeight: 480,\n        justifyContent: 'flex-start',\n        flexDirection: 'column',\n    },\n    coneImage: {\n        width: 32,\n        height: 32,\n        borderWidth: 2,\n    },\n});"],"mappings":";;;;;;;;AACA,OAAOA,YAAY,MAAM,2CAA2C;AACpE,OAAOC,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE9D,SAASC,KAAK,EAAEC,GAAG,EAAEC,IAAI;AACzB,SAASC,WAAW;AAEpB,OAAOC,SAAS;AAChB,OAAOC,eAAe;AACtB,SAASC,OAAO,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW;AAEhD,OAAOC,MAAM;AACb,OAAOC,eAAe;AACtB,OAAOC,aAAa;AACpB,OAAOC,cAAc;AACrB,SAASC,gBAAgB;AAAkC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAE3D,eAAe,SAASC,SAASA,CAAA,EAAG;EAChC,IAAAC,WAAA,GAMIvB,UAAU,CAACM,WAAW,CAAC;IALvBkB,QAAQ,GAAAD,WAAA,CAARC,QAAQ;IACRC,YAAY,GAAAF,WAAA,CAAZE,YAAY;IAAEC,eAAe,GAAAH,WAAA,CAAfG,eAAe;IAC7BC,SAAS,GAAAJ,WAAA,CAATI,SAAS;IAAEC,YAAY,GAAAL,WAAA,CAAZK,YAAY;IACvBC,SAAS,GAAAN,WAAA,CAATM,SAAS;IAAEC,YAAY,GAAAP,WAAA,CAAZO,YAAY;IACvBC,WAAW,GAAAR,WAAA,CAAXQ,WAAW;IAAEC,cAAc,GAAAT,WAAA,CAAdS,cAAc;EAG/B,IAAAC,SAAA,GAAkC/B,QAAQ,CAAC;MAEvCgC,SAAS,EAAE,IAAI;MACfC,WAAW,EAAE,IAAI;MACjBC,aAAa,EAAE,IAAI;MACnBC,aAAa,EAAE,IAAI;MACnBC,mBAAmB,EAAE,IAAI;MAGzBC,KAAK,EAAE5B,MAAM,CAAC6B,MAAM;MACpBC,aAAa,EAAE,KAAK;MACpBC,SAAS,EAAE,IAAI;MACfC,UAAU,EAAE/B,WAAW,CAACgC;IAC5B,CAAC,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAb,SAAA;IAbKc,SAAS,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAe9B,IAAMI,WAAW,GAAG,SAAdA,WAAWA,CAAA;IAAA,IAAAC,kBAAA;IAAA,OAAS,GAAG,IAAGzB,YAAY,qBAAAyB,kBAAA,GAAZzB,YAAY,CAAE0B,IAAI,qBAAlBD,kBAAA,CAAoBE,eAAe;EAAA;EAEnE,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAGC,MAAM,EAAI;IACvBjD,IAAI,CAAC,SAAS,EAAEiD,MAAM,CAAC;IACvB,QAAQA,MAAM;MACV,KAAK7C,OAAO,CAAC8C,eAAe;QACxB;MACJ,KAAK9C,OAAO,CAAC+C,cAAc;QACvB,OAAO;UAAEpB,aAAa,EAAE,IAAI;UAAEC,aAAa,EAAE;QAAK,CAAC;MACvD,KAAK5B,OAAO,CAACgD,YAAY;QACrB;MACJ,KAAKhD,OAAO,CAACiD,WAAW;QACpB;MACJ,KAAKjD,OAAO,CAACkD,iBAAiB;QAC1B,IAAMxB,WAAW,GAAGY,SAAS,CAACZ,WAAW,GAAG,CAAC;QAC7CrC,YAAY,CAAC8D,OAAO,CAChBlD,SAAS,CAACmD,MAAM,EAChBC,IAAI,CAACC,SAAS,CAAAC,aAAA,CAAAA,aAAA,KAAMvC,YAAY;UAAEwC,eAAe,EAAE9B;QAAW,EAAE,CACpE,CAAC;QACD5B,SAAS,CAAC2D,wBAAwB,CAAC/B,WAAW,CAAC;QAC/C,OAAO;UAAEA,WAAW,EAAXA;QAAY,CAAC;MAC1B,KAAK1B,OAAO,CAAC0D,SAAS;QAClB;MACJ,KAAK1D,OAAO,CAAC2D,WAAW;QACpB;MACJ,KAAK3D,OAAO,CAAC4D,UAAU;QACnB,OAAO;UAAE3B,SAAS,EAAE,IAAI4B,IAAI,CAAC,CAAC;UAAE3B,UAAU,EAAE/B,WAAW,CAAC2D;QAAQ,CAAC;MACrE,KAAK9D,OAAO,CAAC+D,SAAS;QAClB,OAAO;UAAE7B,UAAU,EAAE/B,WAAW,CAACgC;QAAO,CAAC;MAC7C,KAAKnC,OAAO,CAACgE,UAAU;QAEnB,OAAO;UAAE/B,SAAS,EAAE,IAAI;UAAEC,UAAU,EAAE/B,WAAW,CAAC8D;QAAQ,CAAC;MAC/D,KAAKjE,OAAO,CAACkE,MAAM;QACf;MACJ,KAAKlE,OAAO,CAACmE,kBAAkB;QAC3B,OAAO;UAAEnC,aAAa,EAAE;QAAM,CAAC;MACnC,KAAKhC,OAAO,CAACoE,gBAAgB;QACzB,OAAO;UAAEpC,aAAa,EAAE;QAAK,CAAC;MAClC;QACItC,KAAK,CAAC,gBAAgB,EAAEmD,MAAM,CAAC;IACvC;IACA,OAAO,CAAC,CAAC;EACb,CAAC;EAED,IAAMwB,QAAQ,GAAG,SAAXA,QAAQA,CAAIC,QAAQ,EAAEC,OAAO,EAAK;IACpC,IAAMC,WAAW,GAAG;MAAE1C,KAAK,EAAEwC;IAAS,CAAC;IACvC,IAAMG,aAAa,GAAGF,OAAO,GAAGA,OAAO,CAACG,GAAG,CAAC,UAAA7B,MAAM;MAAA,OAAID,QAAQ,CAACC,MAAM,CAAC;IAAA,EAAC,GAAG,EAAE;IAC5E,IAAM8B,OAAO,GAAGC,MAAM,CAACC,MAAM,CAAAC,KAAA,CAAbF,MAAM,GAAQJ,WAAW,EAAAO,MAAA,CAAAC,kBAAA,CAAKP,aAAa,GAAC;IAC5D7E,IAAI,CAAC;MAAE2E,OAAO,EAAPA,OAAO;MAAEE,aAAa,EAAbA,aAAa;MAAEE,OAAO,EAAPA;IAAQ,CAAC,CAAC;IACzCpC,YAAY,CAAAgB,aAAA,CAAAA,aAAA,KAAMjB,SAAS,GAAKqC,OAAO,CAAE,CAAC;EAC9C,CAAC;EAED,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAIX,QAAQ,EAAEC,OAAO,EAAK;IACzC,IAAMW,UAAU,IAAIlF,OAAO,CAACoE,gBAAgB,EAAAW,MAAA,CAAAC,kBAAA,CAAKT,OAAO,EAAC;IACzDF,QAAQ,CAACC,QAAQ,EAAEY,UAAU,CAAC;EAClC,CAAC;EAGD1F,SAAS,CAAC,YAAM;IACZ,IAAM2F,mBAAmB;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QACpC,IAAMC,cAAc,SAASxF,SAAS,CAACyF,iBAAiB,CAAC,CAAC;QAC1DhE,cAAc,CAAC+D,cAAc,CAAC;QAE9B3F,GAAG,CAAC,8BAA8B,EAAE2F,cAAc,CAAC;MACvD,CAAC;MAAA,gBALKH,mBAAmBA,CAAA;QAAA,OAAAC,IAAA,CAAAN,KAAA,OAAAU,SAAA;MAAA;IAAA,GAKxB;IAEDL,mBAAmB,CAAC,CAAC;EACzB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMM,eAAe;IAAA,IAAAC,KAAA,GAAAL,iBAAA,CAAG,WAAMM,QAAQ,EAAI;MACtC,IAAI,CAACA,QAAQ,EAAE;MACf,IAAMC,IAAI,GAAGhB,MAAM,CAACgB,IAAI,CAACD,QAAQ,CAAC;MAClC,IAAME,YAAY,SAASC,OAAO,CAACC,GAAG,CAACH,IAAI,CAAClB,GAAG;QAAA,IAAAsB,KAAA,GAAAX,iBAAA,CAAC,WAAMY,GAAG,EAAI;UACzD,IAAQC,SAAS,GAAKP,QAAQ,CAACM,GAAG,CAAC,CAA3BC,SAAS;UACjB,IAAMC,IAAI,SAAS3F,gBAAgB,CAAC0F,SAAS,CAAC;UAE9C,OAAAE,eAAA,KAAUH,GAAG,EAAG;YAAEC,SAAS,EAATA,SAAS;YAAEC,IAAI,EAAJA;UAAK,CAAC;QACvC,CAAC;QAAA,iBAAAE,GAAA;UAAA,OAAAL,KAAA,CAAAlB,KAAA,OAAAU,SAAA;QAAA;MAAA,IAAC,CAAC;MAEH,IAAMc,MAAM,GAAG1B,MAAM,CAACC,MAAM,CAAAC,KAAA,CAAbF,MAAM,GAAQ,CAAC,CAAC,EAAAG,MAAA,CAAAC,kBAAA,CAAKa,YAAY,GAAC;MACjD,OAAOS,MAAM;IACjB,CAAC;IAAA,gBAZKb,eAAeA,CAAAc,EAAA;MAAA,OAAAb,KAAA,CAAAZ,KAAA,OAAAU,SAAA;IAAA;EAAA,GAYpB;EAGDhG,SAAS,CAAC,YAAM;IACZ,IAAMgH,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,MAAM,EAAI;MAC/BlE,YAAY,CAAAgB,aAAA,CAAAA,aAAA,KAAMjB,SAAS;QAAEb,SAAS,EAAEgF,MAAM,CAACC,gBAAgB;QAAEhF,WAAW,EAAE+E,MAAM,CAACjD;MAAe,EAAE,CAAC;IAC3G,CAAC;IAED,IAAMmD,oBAAoB;MAAA,IAAAC,KAAA,GAAAvB,iBAAA,CAAG,aAAY;QACrC,IAAIrE,YAAY,IAAID,QAAQ,IAAIC,YAAY,CAAC6F,QAAQ,KAAK9F,QAAQ,CAAC8F,QAAQ,EAAE;UACzElH,GAAG,CAAC,iCAAiC,CAAC;UACtCC,IAAI,CAAC;YAACoB,YAAY,EAAZA;UAAY,CAAC,CAAC;UACpBwF,gBAAgB,CAACxF,YAAY,CAAC;UAC9B;QACJ;QAEA,IAAM8F,kBAAkB,SAASzH,YAAY,CAAC0H,OAAO,CAAC9G,SAAS,CAACmD,MAAM,CAAC;QAEvE,IAAI0D,kBAAkB,EAAE;UAEpB,IAAME,kBAAkB,GAAG3D,IAAI,CAAC4D,KAAK,CAACH,kBAAkB,CAAC;UACzDE,kBAAkB,CAACE,WAAW,GAAG,IAAIrD,IAAI,CAACmD,kBAAkB,CAACE,WAAW,CAAC;UACzEF,kBAAkB,CAACrB,QAAQ,SAASF,eAAe,CAACuB,kBAAkB,CAACrB,QAAQ,CAAC;UAEhF1E,eAAe,CAAC+F,kBAAkB,CAAC;UAEnCrH,GAAG,CAAC,8BAA8B,CAAC;UACnCC,IAAI,CAAC;YAACoB,YAAY,EAAEgG;UAAkB,CAAC,CAAC;UACxCR,gBAAgB,CAACQ,kBAAkB,CAAC;QACxC,CAAC,MAAM;UAEH,IAAMG,eAAe,SAASrH,SAAS,CAACsH,kBAAkB,CAAC,CAAC;UAC5D,MAAMnG,eAAe,CAACkG,eAAe,CAAC;UAGtC,MAAM9H,YAAY,CAAC8D,OAAO,CAAClD,SAAS,CAACmD,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC6D,eAAe,CAAC,CAAC;UAC7ExH,GAAG,CAAC,+BAA+B,CAAC;UACpCC,IAAI,CAAC;YAACoB,YAAY,EAAEmG;UAAe,CAAC,CAAC;UACrCX,gBAAgB,CAACW,eAAe,CAAC;QACrC;MACJ,CAAC;MAAA,gBAhCKR,oBAAoBA,CAAA;QAAA,OAAAC,KAAA,CAAA9B,KAAA,OAAAU,SAAA;MAAA;IAAA,GAgCzB;IAEDmB,oBAAoB,CAAC,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMU,gBAAgB;IAAA,IAAAC,KAAA,GAAAjC,iBAAA,CAAG,WAAMkC,QAAQ,EAAI;MACvC,IAAMC,YAAY,SAASzH,eAAe,CAAC0H,cAAc,CAACF,QAAQ,CAAC;MACnEpG,YAAY,CAACqG,YAAY,CAAC;MAG1B,MAAMnI,YAAY,CAAC8D,OAAO,CAAClD,SAAS,CAACyH,KAAK,EAAErE,IAAI,CAACC,SAAS,CAACkE,YAAY,CAAC,CAAC;MACzE7H,GAAG,CAAC,2BAA2B,CAAC;MAChCC,IAAI,CAAC;QAACsB,SAAS,EAAEsG;MAAY,CAAC,CAAC;IACnC,CAAC;IAAA,gBARKH,gBAAgBA,CAAAM,GAAA;MAAA,OAAAL,KAAA,CAAAxC,KAAA,OAAAU,SAAA;IAAA;EAAA,GAQrB;EAGDhG,SAAS,CAAC,YAAM;IACZ,IAAMoI,UAAU,GAAG,SAAbA,UAAUA,CAAGC,KAAK;MAAA,OACpBA,KAAK,IACFA,KAAK,CAACN,QAAQ,KAAKvG,YAAY,CAACuG,QAAQ,IACxCM,KAAK,CAACC,OAAO,IACbD,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,IAChBD,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,CAACC,SAAS;IAAA,CAChC;IAED,IAAMC,aAAa;MAAA,IAAAC,KAAA,GAAA5C,iBAAA,CAAG,aAAY;QAC9B,IAAI,CAACrE,YAAY,IAAI,CAACA,YAAY,CAACuG,QAAQ,EAAE;QAG7C,IAAIK,UAAU,CAAC1G,SAAS,CAAC,EAAE;UACvBvB,GAAG,CAAC,6BAA6B,EAAEuB,SAAS,CAAC;UAC7C;QACJ;QAGA,IAAMgH,eAAe,GAAG7E,IAAI,CAAC4D,KAAK,OAAO5H,YAAY,CAAC0H,OAAO,CAAC9G,SAAS,CAACyH,KAAK,CAAC,CAAC;QAC/E,IAAIE,UAAU,CAACM,eAAe,CAAC,EAAE;UAC7B/G,YAAY,CAAC+G,eAAe,CAAC;UAC7BvI,GAAG,CAAC,0BAA0B,CAAC;UAC/BC,IAAI,CAAC;YAACsB,SAAS,EAAEgH;UAAe,CAAC,CAAC;UAClC;QACJ;QAGA,MAAMb,gBAAgB,CAACrG,YAAY,CAACuG,QAAQ,CAAC;MACjD,CAAC;MAAA,gBApBKS,aAAaA,CAAA;QAAA,OAAAC,KAAA,CAAAnD,KAAA,OAAAU,SAAA;MAAA;IAAA,GAoBlB;IAEDwC,aAAa,CAAC,CAAC;EACnB,CAAC,EAAE,CAAChH,YAAY,CAACuG,QAAQ,CAAC,CAAC;EAG3B/H,SAAS,CAAC,YAAM;IACZ,IAAM2I,iBAAiB;MAAA,IAAAC,KAAA,GAAA/C,iBAAA,CAAG,aAAY;QAClC,IAAI,CAACtE,QAAQ,IAAI,CAACA,QAAQ,CAAC8F,QAAQ,EAAE;QAErC,IAAMwB,eAAe,SAAShJ,YAAY,CAAC0H,OAAO,CAAC9G,SAAS,CAACqI,SAAS,CAAC;QACvE,IAAID,eAAe,EAAE;UAEjB,IAAME,eAAe,GAAGlF,IAAI,CAAC4D,KAAK,CAACoB,eAAe,CAAC;UAEnD,IAAIE,eAAe,CAAC1B,QAAQ,KAAK9F,QAAQ,CAAC8F,QAAQ,EAAE;YAChDxF,YAAY,CAACkH,eAAe,CAAC;YAC7B5I,GAAG,CAAC,0BAA0B,CAAC;YAC/BC,IAAI,CAAC2I,eAAe,CAAC;YACrB;UACJ;QACJ;QAGA,IAAMC,YAAY,SAAS1I,SAAS,CAAC2I,eAAe,CAAC1H,QAAQ,CAAC8F,QAAQ,CAAC;QACvExF,YAAY,CAACmH,YAAY,CAAC;QAG1B,MAAMnJ,YAAY,CAAC8D,OAAO,CAAClD,SAAS,CAACqI,SAAS,EAAEjF,IAAI,CAACC,SAAS,CAACkF,YAAY,CAAC,CAAC;QAC7E7I,GAAG,CAAC,4BAA4B,CAAC;MAErC,CAAC;MAAA,gBAxBKwI,iBAAiBA,CAAA;QAAA,OAAAC,KAAA,CAAAtD,KAAA,OAAAU,SAAA;MAAA;IAAA,GAwBtB;IAED2C,iBAAiB,CAAC,CAAC;EACvB,CAAC,EAAE,CAACpH,QAAQ,CAAC8F,QAAQ,CAAC,CAAC;EAEvB,IAAM6B,SAAS,GAAG,SAAZA,SAASA,CAAA,EAAS;IACpB,IAAQ5G,KAAK,GAAKQ,SAAS,CAAnBR,KAAK;IACbnC,GAAG,CAAC,SAAS,EAAE;MAAEgJ,QAAQ,EAAErG,SAAS,CAACN;IAAc,CAAC,CAAC;IACrD,IAAI,CAACM,SAAS,CAACN,aAAa,EAAEqC,QAAQ,CAACvC,KAAK,CAAC8G,OAAO,EAAE9G,KAAK,CAAC+G,cAAc,CAAC;EAC/E,CAAC;EAED,OACIjI,KAAA,CAACkI,IAAI;IAACC,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,GAC1BxI,IAAA,CAACN,MAAM;MACHkC,SAAS,EAAEA,SAAU;MACrBE,WAAW,EAAEA,WAAW,CAAC,CAAE;MAC3BkG,SAAS,EAAEA;IAAU,CACxB,CAAC,EACFhI,IAAA,CAACoI,IAAI;MAACC,KAAK,EAAEC,MAAM,CAACG,cAAe;MAAAD,QAAA,EAC9B5G,SAAS,CAACR,KAAK,KAAK5B,MAAM,CAAC6B,MAAM,GAC5BrB,IAAA,CAACL,eAAe;QAACiC,SAAS,EAAEA,SAAU;QAACC,YAAY,EAAEA;MAAa,CAAE,CAAC,GACrE7B,IAAA,CAACJ,aAAa;QAACgC,SAAS,EAAEA,SAAU;QAACC,YAAY,EAAEA;MAAa,CAAE;IAAC,CAEvE,CAAC,EACP7B,IAAA,CAACH,cAAc;MAAC+B,SAAS,EAAEA,SAAU;MAAC+B,QAAQ,EAAEY;IAAc,CAAE,CAAC;EAAA,CAC/D,CAAC;AAEf;AAEA,IAAM+D,MAAM,GAAGI,UAAU,CAACC,MAAM,CAAC;EAC7BJ,SAAS,EAAE;IACPK,IAAI,EAAE,CAAC;IACPC,aAAa,EAAE;EACnB,CAAC;EACDC,UAAU,EAAE;IACRC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE;EAClB,CAAC;EACDC,KAAK,EAAE;IACHC,KAAK,EAAE,GAAG;IACVC,MAAM,EAAE,IAAI;IACZC,SAAS,EAAE,QAAQ;IACnBJ,YAAY,EAAE,EAAE;IAChBD,SAAS,EAAE;EACf,CAAC;EACDN,cAAc,EAAE;IACZY,QAAQ,EAAE,MAAM;IAChBT,IAAI,EAAE,CAAC;IACPU,WAAW,EAAE,EAAE;IACfC,YAAY,EAAE,EAAE;IAChBC,UAAU,EAAE,EAAE;IACdC,SAAS,EAAE,GAAG;IACdC,cAAc,EAAE,YAAY;IAC5Bb,aAAa,EAAE;EACnB,CAAC;EACDc,SAAS,EAAE;IACPT,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVS,WAAW,EAAE;EACjB;AACJ,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}