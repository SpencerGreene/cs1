{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport React, { useContext, useEffect } from 'react';\nimport Styles from \"../styles/Styles\";\nimport { AuthContext } from \"../components/AuthProvider\";\nimport TeamPicker6 from \"../components/TeamPicker6\";\nimport MatchPicker from \"../components/MatchPicker\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar label = function label(text, spacing) {\n  return _jsx(Text, {\n    style: [Styles.metadataLabel, {\n      marginTop: spacing,\n      marginBottom: 2\n    }],\n    children: text\n  });\n};\nexport default function ScoutPageSelect(_ref) {\n  var gameState = _ref.gameState,\n    setGameState = _ref.setGameState;\n  var _useContext = useContext(AuthContext),\n    eventInfo = _useContext.eventInfo;\n  var eventKey = eventInfo.eventKey,\n    matches = eventInfo.matches;\n  var season = eventKey && eventKey.substring(0, 4);\n  var isValid = function isValid(matchType, matchNumber, teamNumT) {\n    return matchType === 'Practice' || matchType === 'Qual' && matchNumber > 0 && teamNumT > 0;\n  };\n  var setSelectedTeam = function setSelectedTeam(teamNumT, color) {\n    var scoutSelectionValid = isValid(gameState.matchType, gameState.matchNumber, teamNumT);\n    setGameState(_objectSpread(_objectSpread({}, gameState), {}, {\n      scoutTeamNumT: teamNumT,\n      allianceColor: color,\n      scoutSelectionValid: scoutSelectionValid\n    }));\n  };\n  var setSelectedMatch = function setSelectedMatch(matchType, matchNumber) {\n    var scoutSelectionValid = isValid(matchType, matchNumber, null);\n    setGameState(_objectSpread(_objectSpread({}, gameState), {}, {\n      scoutTeamNumT: null,\n      allianceColor: null,\n      matchType: matchType,\n      matchNumber: matchNumber,\n      scoutSelectionValid: scoutSelectionValid\n    }));\n  };\n  useEffect(function () {\n    setSelectedTeam(null, null);\n  }, [gameState.phase]);\n  var eventBlock = function eventBlock() {\n    var _eventInfo$event;\n    return _jsxs(View, {\n      style: styles.eventBlock,\n      children: [_jsxs(View, {\n        style: {\n          flex: 1\n        },\n        children: [label(\"Season\", 0), _jsxs(Text, {\n          style: [Styles.bodyText],\n          children: [\" \", season, \" \"]\n        })]\n      }), _jsxs(View, {\n        style: {\n          flex: 2\n        },\n        children: [label(\"Event\", 0), _jsx(Text, {\n          style: [Styles.bodyText],\n          children: eventInfo == null ? void 0 : (_eventInfo$event = eventInfo.event) == null ? void 0 : _eventInfo$event.name\n        })]\n      })]\n    });\n  };\n  var matchBlock = function matchBlock() {\n    return _jsxs(View, {\n      style: styles.matchBlock,\n      children: [label(\"Match\", 0), _jsx(MatchPicker, {\n        eventInfo: eventInfo,\n        onMatchSelect: setSelectedMatch,\n        matchType: gameState.matchType,\n        matchNumber: gameState.matchNumber\n      })]\n    });\n  };\n  var teamBlock = function teamBlock() {\n    var _matches$gameState$ma;\n    var alliances = matches && gameState.matchNumber && ((_matches$gameState$ma = matches[gameState.matchNumber]) == null ? void 0 : _matches$gameState$ma.alliances);\n    return _jsxs(View, {\n      style: styles.teamBlock,\n      children: [alliances && label(\"Team\", 0), _jsx(TeamPicker6, {\n        choicesRed: alliances ? alliances.red.team_keys : [],\n        choicesBlue: alliances ? alliances.blue.team_keys : [],\n        onOptionSelect: setSelectedTeam,\n        scoutTeamNumT: gameState.scoutTeamNumT\n      })]\n    });\n  };\n  return _jsxs(View, {\n    id: \"selectPage\",\n    style: styles.container,\n    children: [_jsx(View, {\n      style: styles.eventBlock,\n      children: eventBlock()\n    }), _jsx(View, {\n      style: styles.matchBlock,\n      children: matchBlock()\n    }), _jsx(View, {\n      style: styles.teamBlock,\n      children: matches && gameState.matchType === 'Qual' && teamBlock()\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flexDirection: 'column',\n    flex: 1\n  },\n  eventBlock: {\n    flex: 2,\n    flexDirection: 'row',\n    marginTop: 10\n  },\n  matchBlock: {\n    flex: 2\n  },\n  teamBlock: {\n    flex: 4,\n    justifyContent: 'center'\n  }\n});","map":{"version":3,"names":["React","useContext","useEffect","Styles","AuthContext","TeamPicker6","MatchPicker","jsx","_jsx","jsxs","_jsxs","label","text","spacing","Text","style","metadataLabel","marginTop","marginBottom","children","ScoutPageSelect","_ref","gameState","setGameState","_useContext","eventInfo","eventKey","matches","season","substring","isValid","matchType","matchNumber","teamNumT","setSelectedTeam","color","scoutSelectionValid","_objectSpread","scoutTeamNumT","allianceColor","setSelectedMatch","phase","eventBlock","_eventInfo$event","View","styles","flex","bodyText","event","name","matchBlock","onMatchSelect","teamBlock","_matches$gameState$ma","alliances","choicesRed","red","team_keys","choicesBlue","blue","onOptionSelect","id","container","StyleSheet","create","flexDirection","justifyContent"],"sources":["/Users/sgreene/src/cs1/pages/ScoutPageSelect.js"],"sourcesContent":["import { StyleSheet, Text, View } from 'react-native';\n\nimport React, { useContext, useEffect } from 'react';\n\nimport Styles from '../styles/Styles';\nimport { AuthContext } from '../components/AuthProvider';\nimport TeamPicker6 from '../components/TeamPicker6';\nimport MatchPicker from '../components/MatchPicker';\n\nconst label = (text, spacing) => (\n    <Text style={[Styles.metadataLabel, { marginTop: spacing, marginBottom: 2 },]}>\n        {text}\n    </Text>\n);\n\nexport default function ScoutPageSelect({ gameState, setGameState }) {\n    const { eventInfo } = useContext(AuthContext);\n    const { eventKey, matches } = eventInfo;\n\n    const season = eventKey && eventKey.substring(0, 4);\n\n    const isValid = (matchType, matchNumber, teamNumT) =>\n        matchType === 'Practice'\n        || (matchType === 'Qual' && matchNumber > 0 && teamNumT > 0);\n\n    const setSelectedTeam = (teamNumT, color) => {\n        const scoutSelectionValid = isValid(gameState.matchType, gameState.matchNumber, teamNumT);\n        setGameState({ ...gameState, scoutTeamNumT: teamNumT, allianceColor: color, scoutSelectionValid });\n    };\n\n    const setSelectedMatch = (matchType, matchNumber) => {\n        const scoutSelectionValid = isValid(matchType, matchNumber, null);\n        setGameState({\n            ...gameState, scoutTeamNumT: null, allianceColor: null,\n            matchType, matchNumber, scoutSelectionValid\n        });\n    };\n\n    useEffect(() => {\n        setSelectedTeam(null, null);\n    }, [gameState.phase]);\n\n    const eventBlock = () => (\n        <View style={styles.eventBlock}>\n            <View style={{ flex: 1 }}>\n                {label(\"Season\", 0)}\n                <Text style={[Styles.bodyText]}> {season} </Text >\n            </View >\n            <View style={{ flex: 2 }}>\n                {label(\"Event\", 0)}\n                <Text style={[Styles.bodyText]}>{eventInfo?.event?.name}</Text >\n            </View >\n        </View >\n    );\n\n    const matchBlock = () => (\n        <View style={styles.matchBlock}>\n            {label(\"Match\", 0)}\n            <MatchPicker\n                eventInfo={eventInfo}\n                onMatchSelect={setSelectedMatch}\n                matchType={gameState.matchType}\n                matchNumber={gameState.matchNumber}\n            />\n        </View>\n    );\n\n    const teamBlock = () => {\n        const alliances = matches && gameState.matchNumber && matches[gameState.matchNumber]?.alliances;\n        return (\n            <View style={styles.teamBlock}>\n                {alliances && label(\"Team\", 0)}\n                <TeamPicker6\n                    choicesRed={alliances ? alliances.red.team_keys : []}\n                    choicesBlue={alliances ? alliances.blue.team_keys : []}\n                    onOptionSelect={setSelectedTeam}\n                    scoutTeamNumT={gameState.scoutTeamNumT}\n                />\n            </View>\n        )\n    };\n\n    return (\n        <View id=\"selectPage\" style={styles.container}>\n            <View style={styles.eventBlock}>\n                {eventBlock()}\n            </View>\n\n            <View style={styles.matchBlock}>\n                {matchBlock()}\n            </View>\n            <View style={styles.teamBlock}>\n                {matches && gameState.matchType === 'Qual' && teamBlock()}\n            </View>\n\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flexDirection: 'column',\n        flex: 1,\n        // justifyContent: 'space-between',\n    },\n    eventBlock: {\n        flex: 2,\n        flexDirection: 'row',\n        marginTop: 10,\n    },\n    matchBlock: {\n        flex: 2,\n        // backgroundColor: 'red',\n    },\n    teamBlock: {\n        flex: 4,\n        justifyContent: 'center',\n    },\n\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}