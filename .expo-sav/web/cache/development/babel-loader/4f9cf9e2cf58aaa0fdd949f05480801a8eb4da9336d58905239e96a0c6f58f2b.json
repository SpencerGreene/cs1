{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport axios from 'axios';\nimport * as URL from \"../config.js\";\nvar BubbleApi = function () {\n  function BubbleApi() {\n    _classCallCheck(this, BubbleApi);\n    this.apiToken = '';\n    this.dataUrl = URL.DATA_URL;\n    this.workflowUrl = URL.WORKFLOW_URL;\n  }\n  _createClass(BubbleApi, [{\n    key: \"apiLogin\",\n    value: function () {\n      var _apiLogin = _asyncToGenerator(function* (email, password) {\n        var _yield$axios$post = yield axios.post(`${URL.WORKFLOW_URL}/login`, {\n            email: email,\n            password: password\n          }),\n          data = _yield$axios$post.data;\n        console.log(data);\n        var response = data.response;\n        console.log(response);\n        var userInfo = {\n          userID: response.user_id,\n          token: response.token\n        };\n        console.log(userInfo);\n        return userInfo;\n      });\n      function apiLogin(_x, _x2) {\n        return _apiLogin.apply(this, arguments);\n      }\n      return apiLogin;\n    }()\n  }, {\n    key: \"fetchData\",\n    value: function () {\n      var _fetchData = _asyncToGenerator(function* (endpoint) {});\n      function fetchData(_x3) {\n        return _fetchData.apply(this, arguments);\n      }\n      return fetchData;\n    }()\n  }, {\n    key: \"normalizeData\",\n    value: function () {\n      var _normalizeData = _asyncToGenerator(function* (data) {});\n      function normalizeData(_x4) {\n        return _normalizeData.apply(this, arguments);\n      }\n      return normalizeData;\n    }()\n  }, {\n    key: \"fetchDataAndNormalize\",\n    value: function () {\n      var _fetchDataAndNormalize = _asyncToGenerator(function* (endpoint) {\n        try {\n          var rawData = yield this.fetchData(endpoint);\n          var normalizedData = yield this.normalizeData(rawData);\n          return normalizedData;\n        } catch (error) {\n          throw error;\n        }\n      });\n      function fetchDataAndNormalize(_x5) {\n        return _fetchDataAndNormalize.apply(this, arguments);\n      }\n      return fetchDataAndNormalize;\n    }()\n  }]);\n  return BubbleApi;\n}();\nexport { BubbleApi as default };","map":{"version":3,"names":["axios","URL","BubbleApi","_classCallCheck","apiToken","dataUrl","DATA_URL","workflowUrl","WORKFLOW_URL","_createClass","key","value","_apiLogin","_asyncToGenerator","email","password","_yield$axios$post","post","data","console","log","response","userInfo","userID","user_id","token","apiLogin","_x","_x2","apply","arguments","_fetchData","endpoint","fetchData","_x3","_normalizeData","normalizeData","_x4","_fetchDataAndNormalize","rawData","normalizedData","error","fetchDataAndNormalize","_x5","default"],"sources":["/Users/sgreene/src/cs1/api/BubbleApi.js"],"sourcesContent":["import axios from 'axios';\nimport * as URL from '../config.js';\n\nexport default class BubbleApi {\n    constructor() {\n      this.apiToken = '';\n      this.dataUrl = URL.DATA_URL;\n      this.workflowUrl = URL.WORKFLOW_URL;\n    }\n  \n    async apiLogin(email, password) {\n        const { data } = await axios.post(\n            `${URL.WORKFLOW_URL}/login`, \n            { email, password }\n        );\n        console.log(data);\n        const response = data.response;\n        console.log(response);\n        const userInfo = { userID: response.user_id, token: response.token };\n        console.log(userInfo);\n        return userInfo;\n    }\n\n    async fetchData(endpoint) {\n      // Access this.apiToken to include it in the request\n      // Other instance-specific logic\n    }\n  \n    async normalizeData(data) {\n      // Instance-specific normalization logic\n    }\n  \n    async fetchDataAndNormalize(endpoint) {\n      try {\n        const rawData = await this.fetchData(endpoint);\n        const normalizedData = await this.normalizeData(rawData);\n        return normalizedData;\n      } catch (error) {\n        throw error;\n      }\n    }\n  }\n  \n \n  "],"mappings":";;;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,KAAKC,GAAG;AAAqB,IAEfC,SAAS;EAC1B,SAAAA,UAAA,EAAc;IAAAC,eAAA,OAAAD,SAAA;IACZ,IAAI,CAACE,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,OAAO,GAAGJ,GAAG,CAACK,QAAQ;IAC3B,IAAI,CAACC,WAAW,GAAGN,GAAG,CAACO,YAAY;EACrC;EAACC,YAAA,CAAAP,SAAA;IAAAQ,GAAA;IAAAC,KAAA;MAAA,IAAAC,SAAA,GAAAC,iBAAA,CAED,WAAeC,KAAK,EAAEC,QAAQ,EAAE;QAC5B,IAAAC,iBAAA,SAAuBhB,KAAK,CAACiB,IAAI,CAC5B,GAAEhB,GAAG,CAACO,YAAa,QAAO,EAC3B;YAAEM,KAAK,EAALA,KAAK;YAAEC,QAAQ,EAARA;UAAS,CACtB,CAAC;UAHOG,IAAI,GAAAF,iBAAA,CAAJE,IAAI;QAIZC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAMG,QAAQ,GAAGH,IAAI,CAACG,QAAQ;QAC9BF,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;QACrB,IAAMC,QAAQ,GAAG;UAAEC,MAAM,EAAEF,QAAQ,CAACG,OAAO;UAAEC,KAAK,EAAEJ,QAAQ,CAACI;QAAM,CAAC;QACpEN,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC;QACrB,OAAOA,QAAQ;MACnB,CAAC;MAAA,SAAAI,SAAAC,EAAA,EAAAC,GAAA;QAAA,OAAAhB,SAAA,CAAAiB,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAJ,QAAA;IAAA;EAAA;IAAAhB,GAAA;IAAAC,KAAA;MAAA,IAAAoB,UAAA,GAAAlB,iBAAA,CAED,WAAgBmB,QAAQ,EAAE,CAG1B,CAAC;MAAA,SAAAC,UAAAC,GAAA;QAAA,OAAAH,UAAA,CAAAF,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAG,SAAA;IAAA;EAAA;IAAAvB,GAAA;IAAAC,KAAA;MAAA,IAAAwB,cAAA,GAAAtB,iBAAA,CAED,WAAoBK,IAAI,EAAE,CAE1B,CAAC;MAAA,SAAAkB,cAAAC,GAAA;QAAA,OAAAF,cAAA,CAAAN,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAM,aAAA;IAAA;EAAA;IAAA1B,GAAA;IAAAC,KAAA;MAAA,IAAA2B,sBAAA,GAAAzB,iBAAA,CAED,WAA4BmB,QAAQ,EAAE;QACpC,IAAI;UACF,IAAMO,OAAO,SAAS,IAAI,CAACN,SAAS,CAACD,QAAQ,CAAC;UAC9C,IAAMQ,cAAc,SAAS,IAAI,CAACJ,aAAa,CAACG,OAAO,CAAC;UACxD,OAAOC,cAAc;QACvB,CAAC,CAAC,OAAOC,KAAK,EAAE;UACd,MAAMA,KAAK;QACb;MACF,CAAC;MAAA,SAAAC,sBAAAC,GAAA;QAAA,OAAAL,sBAAA,CAAAT,KAAA,OAAAC,SAAA;MAAA;MAAA,OAAAY,qBAAA;IAAA;EAAA;EAAA,OAAAxC,SAAA;AAAA;AAAA,SArCgBA,SAAS,IAAA0C,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}