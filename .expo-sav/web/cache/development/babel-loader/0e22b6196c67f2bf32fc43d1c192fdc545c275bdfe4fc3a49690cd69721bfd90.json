{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport React, { useContext, useEffect, useState } from 'react';\nimport BubbleApi from \"../api/BubbleApi\";\nimport Styles from \"../styles/Styles\";\nimport { ACTIONS, LOCALKEYS, PHASES } from \"../config\";\nimport { AuthContext } from \"../components/AuthProvider\";\nimport BlueAllianceApi from \"../api/BlueAllianceApi\";\nimport Header from \"../components/Header\";\nimport ScoutPageSelect from \"./ScoutPageSelect\";\nimport ScoutPageGame from \"./ScoutPageGame\";\nimport ButtonsFwdBack from \"../components/ButtonsFwdBack\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ScoutPage() {\n  var _useContext = useContext(AuthContext),\n    userInfo = _useContext.userInfo,\n    appVariables = _useContext.appVariables,\n    setAppVariables = _useContext.setAppVariables,\n    eventInfo = _useContext.eventInfo,\n    setEventInfo = _useContext.setEventInfo,\n    colorDict = _useContext.colorDict,\n    setColorDict = _useContext.setColorDict,\n    lastChanged = _useContext.lastChanged,\n    setLastChanged = _useContext.setLastChanged;\n  var _useState = useState({\n      phase: PHASES.select,\n      startTime: null,\n      matchType: null,\n      matchNumber: null,\n      scoutTeamNumT: null,\n      allianceColor: null,\n      scoutSelectionValid: null\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    gameState = _useState2[0],\n    setGameState = _useState2[1];\n  var maxGameTime = function maxGameTime() {\n    var _appVariables$game;\n    return 150 + (appVariables == null ? void 0 : (_appVariables$game = appVariables.game) == null ? void 0 : _appVariables$game.autoTeleSeconds);\n  };\n  var doAction = function () {\n    var _ref = _asyncToGenerator(function* (action) {\n      switch (action) {\n        case ACTIONS.clearConditions:\n          break;\n        case ACTIONS.clearMatchTeam:\n          break;\n        case ACTIONS.deleteCounts:\n          break;\n        case ACTIONS.deleteScout:\n          break;\n        case ACTIONS.incrementMatchNum:\n          var matchNumber = gameState.matchNumber + 1;\n          AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(_objectSpread(_objectSpread({}, appVariables), {}, {\n            defaultMatchNum: matchNumber\n          })));\n          BubbleApi.apiSetDefaultMatchNumber(matchNumber);\n          return {\n            matchNumber: matchNumber\n          };\n        case ACTIONS.makeScout:\n          break;\n        case ACTIONS.reloadMaxed:\n          break;\n        case ACTIONS.startClock:\n          return {\n            startTime: new Date()\n          };\n        case ACTIONS.submit:\n          break;\n        default:\n          console.error('uknown action', action);\n      }\n      return {};\n    });\n    return function doAction(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var setPhase = function setPhase(newPhase, actions) {\n    var phaseUpdate = {\n      phase: newPhase\n    };\n    var actionUpdates = actions ? actions.map(function (action) {\n      return doAction(action);\n    }) : [];\n    var updates = Object.assign.apply(Object, [phaseUpdate].concat(_toConsumableArray(actionUpdates)));\n    console.log({\n      actions: actions,\n      updates: updates\n    });\n    setGameState(_objectSpread(_objectSpread({}, gameState), updates));\n  };\n  useEffect(function () {\n    var populateLastChanged = function () {\n      var _ref2 = _asyncToGenerator(function* () {\n        var apiLastChanged = yield BubbleApi.apiGetLastChanged();\n        setLastChanged(apiLastChanged);\n        console.log('last changed loaded from api', apiLastChanged);\n      });\n      return function populateLastChanged() {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    populateLastChanged();\n  }, []);\n  useEffect(function () {\n    var setStartingMatch = function setStartingMatch(appVar) {\n      setGameState(_objectSpread(_objectSpread({}, gameState), {}, {\n        matchType: appVar.defaultMatchType,\n        matchNumber: appVar.defaultMatchNum\n      }));\n    };\n    var populateAppVariables = function () {\n      var _ref3 = _asyncToGenerator(function* () {\n        if (appVariables && userInfo && appVariables.teamNumT === userInfo.teamNumT) {\n          console.log('app Variables already in memory', appVariables);\n          setStartingMatch(appVariables);\n          return;\n        }\n        var storedAppVariables = yield AsyncStorage.getItem(LOCALKEYS.APPVAR);\n        if (storedAppVariables) {\n          var parsedAppVariables = JSON.parse(storedAppVariables);\n          parsedAppVariables.fetchedDate = new Date(parsedAppVariables.fetchedDate);\n          setAppVariables(parsedAppVariables);\n          console.log('app variables found in cache', parsedAppVariables);\n          setStartingMatch(parsedAppVariables);\n        } else {\n          var apiAppVariables = yield BubbleApi.apiGetAppVariables();\n          yield setAppVariables(apiAppVariables);\n          yield AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(apiAppVariables));\n          console.log('app variables loaded from api', apiAppVariables);\n          setStartingMatch(apiAppVariables);\n        }\n      });\n      return function populateAppVariables() {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    populateAppVariables();\n  }, []);\n  var loadEventInfoApi = function () {\n    var _ref4 = _asyncToGenerator(function* (eventKey) {\n      var apiEventInfo = yield BlueAllianceApi.fetchEventInfo(eventKey);\n      setEventInfo(apiEventInfo);\n      yield AsyncStorage.setItem(LOCALKEYS.EVENT, JSON.stringify(apiEventInfo));\n      console.log('eventInfo loaded from api', apiEventInfo);\n    });\n    return function loadEventInfoApi(_x2) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  useEffect(function () {\n    var validEvent = function validEvent(event) {\n      return event && event.eventKey === appVariables.eventKey && event.matches && event.matches[1] && event.matches[1].alliances;\n    };\n    var populateEvent = function () {\n      var _ref5 = _asyncToGenerator(function* () {\n        if (!appVariables || !appVariables.eventKey) return;\n        if (validEvent(eventInfo)) {\n          console.log('eventInfo already in memory', eventInfo);\n          return;\n        }\n        var parsedEventInfo = JSON.parse(yield AsyncStorage.getItem(LOCALKEYS.EVENT));\n        if (validEvent(parsedEventInfo)) {\n          setEventInfo(parsedEventInfo);\n          console.log('eventInfo found in cache', parsedEventInfo);\n          return;\n        }\n        yield loadEventInfoApi(appVariables.eventKey);\n      });\n      return function populateEvent() {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    populateEvent();\n  }, [appVariables.eventKey]);\n  useEffect(function () {\n    var populateColorDict = function () {\n      var _ref6 = _asyncToGenerator(function* () {\n        if (!userInfo || !userInfo.teamNumT) return;\n        var storedColorDict = yield AsyncStorage.getItem(LOCALKEYS.COLORDICT);\n        if (storedColorDict) {\n          var parsedColorDict = JSON.parse(storedColorDict);\n          if (parsedColorDict.teamNumT === userInfo.teamNumT) {\n            setColorDict(parsedColorDict);\n            console.log('color dict found in cache', parsedColorDict);\n            return;\n          }\n        }\n        var apiColorDict = yield BubbleApi.apiGetColorDict(userInfo.teamNumT);\n        setColorDict(apiColorDict);\n        yield AsyncStorage.setItem(LOCALKEYS.COLORDICT, JSON.stringify(apiColorDict));\n        console.log('color dict loaded from api');\n      });\n      return function populateColorDict() {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n    populateColorDict();\n  }, [userInfo.teamNumT]);\n  return _jsxs(View, {\n    children: [_jsx(Header, {\n      gameState: gameState,\n      maxGameTime: maxGameTime()\n    }), _jsx(View, {\n      style: Styles.scoutContainer,\n      children: gameState.phase === PHASES.select ? _jsx(ScoutPageSelect, {\n        gameState: gameState,\n        setGameState: setGameState\n      }) : _jsx(ScoutPageGame, {\n        gameState: gameState,\n        setGameState: setGameState,\n        appVariables: appVariables\n      })\n    }), _jsx(ButtonsFwdBack, {\n      gameState: gameState,\n      setGameState: setGameState,\n      setPhase: setPhase\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  bottomNotes: {\n    marginTop: 60,\n    marginBottom: 100\n  },\n  loginTitle: {\n    marginTop: 30,\n    marginBottom: 12\n  },\n  image: {\n    width: 192,\n    height: 51.5,\n    alignSelf: 'center',\n    marginBottom: 30,\n    marginTop: 100\n  }\n});","map":{"version":3,"names":["AsyncStorage","React","useContext","useEffect","useState","BubbleApi","Styles","ACTIONS","LOCALKEYS","PHASES","AuthContext","BlueAllianceApi","Header","ScoutPageSelect","ScoutPageGame","ButtonsFwdBack","jsx","_jsx","jsxs","_jsxs","ScoutPage","_useContext","userInfo","appVariables","setAppVariables","eventInfo","setEventInfo","colorDict","setColorDict","lastChanged","setLastChanged","_useState","phase","select","startTime","matchType","matchNumber","scoutTeamNumT","allianceColor","scoutSelectionValid","_useState2","_slicedToArray","gameState","setGameState","maxGameTime","_appVariables$game","game","autoTeleSeconds","doAction","_ref","_asyncToGenerator","action","clearConditions","clearMatchTeam","deleteCounts","deleteScout","incrementMatchNum","setItem","APPVAR","JSON","stringify","_objectSpread","defaultMatchNum","apiSetDefaultMatchNumber","makeScout","reloadMaxed","startClock","Date","submit","console","error","_x","apply","arguments","setPhase","newPhase","actions","phaseUpdate","actionUpdates","map","updates","Object","assign","concat","_toConsumableArray","log","populateLastChanged","_ref2","apiLastChanged","apiGetLastChanged","setStartingMatch","appVar","defaultMatchType","populateAppVariables","_ref3","teamNumT","storedAppVariables","getItem","parsedAppVariables","parse","fetchedDate","apiAppVariables","apiGetAppVariables","loadEventInfoApi","_ref4","eventKey","apiEventInfo","fetchEventInfo","EVENT","_x2","validEvent","event","matches","alliances","populateEvent","_ref5","parsedEventInfo","populateColorDict","_ref6","storedColorDict","COLORDICT","parsedColorDict","apiColorDict","apiGetColorDict","View","children","style","scoutContainer","styles","StyleSheet","create","bottomNotes","marginTop","marginBottom","loginTitle","image","width","height","alignSelf"],"sources":["/Users/sgreene/src/cs1/pages/ScoutPage.js"],"sourcesContent":["import { StyleSheet, Text, View } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport BubbleApi from '../api/BubbleApi';\n\nimport Styles from '../styles/Styles';\nimport { ACTIONS, LOCALKEYS, PHASES } from '../config';\nimport { AuthContext } from '../components/AuthProvider';\nimport BlueAllianceApi from '../api/BlueAllianceApi';\nimport Header from '../components/Header';\nimport ScoutPageSelect from './ScoutPageSelect';\nimport ScoutPageGame from './ScoutPageGame';\nimport ButtonsFwdBack from '../components/ButtonsFwdBack';\n\nexport default function ScoutPage() {\n    const {\n        userInfo,\n        appVariables, setAppVariables,\n        eventInfo, setEventInfo,\n        colorDict, setColorDict,\n        lastChanged, setLastChanged,\n    } = useContext(AuthContext);\n\n    const [gameState, setGameState] = useState({\n        phase: PHASES.select,\n        startTime: null,\n        matchType: null,\n        matchNumber: null,\n        scoutTeamNumT: null,\n        allianceColor: null,\n        scoutSelectionValid: null,\n    });\n\n    const maxGameTime = () => 150 + appVariables?.game?.autoTeleSeconds;\n\n    const doAction = async action => {\n        switch(action) {\n            case ACTIONS.clearConditions:\n                break;\n            case ACTIONS.clearMatchTeam:\n                break;\n            case ACTIONS.deleteCounts:\n                break;\n            case ACTIONS.deleteScout:\n                break;\n            case ACTIONS.incrementMatchNum:\n                const matchNumber = gameState.matchNumber + 1;\n                AsyncStorage.setItem(\n                    LOCALKEYS.APPVAR, \n                    JSON.stringify({...appVariables, defaultMatchNum: matchNumber})\n                );\n                BubbleApi.apiSetDefaultMatchNumber(matchNumber);\n                return { matchNumber };\n            case ACTIONS.makeScout:\n                break;\n            case ACTIONS.reloadMaxed:\n                break;\n            case ACTIONS.startClock:\n                return { startTime: new Date() };\n            case ACTIONS.submit:\n                break;\n            default:\n                console.error('uknown action', action);\n        }\n        return {};\n    }\n\n    const setPhase = (newPhase, actions) => {\n        const phaseUpdate = { phase: newPhase };\n        const actionUpdates = actions ? actions.map(action => doAction(action)) : [];\n        const updates = Object.assign(phaseUpdate, ...actionUpdates);\n        console.log({actions, updates});\n        setGameState({ ...gameState, ...updates });\n    };\n\n    // get lastChanged from api - TODO refresh other info if it's stale\n    useEffect(() => {\n        const populateLastChanged = async () => {\n            const apiLastChanged = await BubbleApi.apiGetLastChanged();\n            setLastChanged(apiLastChanged);\n\n            console.log('last changed loaded from api', apiLastChanged);\n        };\n\n        populateLastChanged();\n    }, []); // Empty dependency array to run only on mount\n\n    // get appVariables from cache or api\n    useEffect(() => {\n        const setStartingMatch = appVar => {\n            setGameState({...gameState, matchType: appVar.defaultMatchType, matchNumber: appVar.defaultMatchNum});\n        };\n\n        const populateAppVariables = async () => {\n            if (appVariables && userInfo && appVariables.teamNumT === userInfo.teamNumT) {\n                console.log('app Variables already in memory', appVariables);\n                setStartingMatch(appVariables);\n                return;\n            }\n            // Check if appVariables is in AsyncStorage\n            const storedAppVariables = await AsyncStorage.getItem(LOCALKEYS.APPVAR);\n\n            if (storedAppVariables) {\n                // If it exists, set it in the state\n                const parsedAppVariables = JSON.parse(storedAppVariables);\n                parsedAppVariables.fetchedDate = new Date(parsedAppVariables.fetchedDate);\n                setAppVariables(parsedAppVariables);\n                console.log('app variables found in cache', parsedAppVariables);\n                setStartingMatch(parsedAppVariables);\n            } else {\n                // If not, fetch it from the API\n                const apiAppVariables = await BubbleApi.apiGetAppVariables();\n                await setAppVariables(apiAppVariables);\n\n                // Store it in AsyncStorage for future use\n                await AsyncStorage.setItem(LOCALKEYS.APPVAR, JSON.stringify(apiAppVariables));\n                console.log('app variables loaded from api', apiAppVariables);\n                setStartingMatch(apiAppVariables);\n            }\n        };\n\n        populateAppVariables();\n    }, []); // Empty dependency array to run only on mount\n\n    const loadEventInfoApi = async eventKey => {\n        const apiEventInfo = await BlueAllianceApi.fetchEventInfo(eventKey);\n        setEventInfo(apiEventInfo);\n\n        // Store it in AsyncStorage for future use\n        await AsyncStorage.setItem(LOCALKEYS.EVENT, JSON.stringify(apiEventInfo));\n        console.log('eventInfo loaded from api', apiEventInfo);\n    };\n\n    // get eventInfo from cache or API - depends on eventKey\n    useEffect(() => {\n        const validEvent = event => (\n            event \n            && event.eventKey === appVariables.eventKey\n            && event.matches\n            && event.matches[1]\n            && event.matches[1].alliances\n        );\n\n        const populateEvent = async () => {\n            if (!appVariables || !appVariables.eventKey) return;\n\n            // 1 - already in React state\n            if (validEvent(eventInfo)) {\n                console.log('eventInfo already in memory', eventInfo);\n                return;\n            }\n\n            // 2 - already in cache\n            const parsedEventInfo = JSON.parse(await AsyncStorage.getItem(LOCALKEYS.EVENT));\n            if (validEvent(parsedEventInfo)) {\n                setEventInfo(parsedEventInfo);\n                console.log('eventInfo found in cache', parsedEventInfo);\n                return;\n            }\n\n            // not found in cache\n            await loadEventInfoApi(appVariables.eventKey);\n        };\n\n        populateEvent();\n    }, [appVariables.eventKey]); // Trigger only when event changes\n\n    // get colorDict from cache or API - depends on userInfo.teamNumT\n    useEffect(() => {\n        const populateColorDict = async () => {\n            if (!userInfo || !userInfo.teamNumT) return;\n\n            const storedColorDict = await AsyncStorage.getItem(LOCALKEYS.COLORDICT);\n            if (storedColorDict) {\n                // If it exists, set it in the state\n                const parsedColorDict = JSON.parse(storedColorDict);\n\n                if (parsedColorDict.teamNumT === userInfo.teamNumT) {\n                    setColorDict(parsedColorDict);\n                    console.log('color dict found in cache', parsedColorDict);\n                    return;\n                }\n            }\n\n            // If not, fetch it from the API\n            const apiColorDict = await BubbleApi.apiGetColorDict(userInfo.teamNumT);\n            setColorDict(apiColorDict);\n\n            // Store it in AsyncStorage for future use\n            await AsyncStorage.setItem(LOCALKEYS.COLORDICT, JSON.stringify(apiColorDict));\n            console.log('color dict loaded from api');\n\n        };\n\n        populateColorDict();\n    }, [userInfo.teamNumT]); // Trigger only when appVariables changes\n\n    return (\n        <View>\n            <Header gameState={gameState} maxGameTime={maxGameTime()}/>\n            <View style={Styles.scoutContainer}>\n                {gameState.phase === PHASES.select \n                    ? <ScoutPageSelect gameState={gameState} setGameState={setGameState} />\n                    : <ScoutPageGame   gameState={gameState} setGameState={setGameState} appVariables={appVariables} />\n                }\n            </View>\n            <ButtonsFwdBack gameState={gameState} setGameState={setGameState} setPhase={setPhase}/>\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    bottomNotes: {\n        marginTop: 60,\n        marginBottom: 100,\n    },\n    loginTitle: {\n        marginTop: 30,\n        marginBottom: 12,\n    },\n    image: {\n        width: 192,\n        height: 51.5,\n        alignSelf: 'center',\n        marginBottom: 30,\n        marginTop: 100,\n    },\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}